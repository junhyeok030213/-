># 지역성의 원리
## 프로그램은 언제든지 주소 공간의 작은 부분에 액세스한다.  (지역성, 국지성, 국부성)
## 시간적 지역성
- 최근에 액세스한 항목은 곧 다시 액세스될 가능성이 높다.
- 예를 들어 루프의 명령어
## 공간의 지역성
- 최근에 접근한 항목 근처에 있는 항목은 곧 접근될 가능성이 높다.
- 예를 들어, 순차적 명령어 액세스, 배열 데이터

># 지역성을 활용하다
## 메모리 계층
## 모든 것을 디스크에 저장
## 최근에 액세스한(및 근처의) 항목을 디스크에서 더 작은 DRAM 메모리로 복사한다.
- 메인 메모리
## 최근에 액세스한(그리고 근처에 있는) 항목을 DRAM에서 더 작은 SRAM 메모리로 복사한다.
- CPU에 연결된 캐시 메모리

># 메모리 계층 수준
<img width="296" alt="스크린샷 2024-06-10 오후 2 59 24" src="https://github.com/junhyeok030213/computer-structure/assets/106813806/4cb04216-8a85-4504-a8e2-1e2cf23139cc">

## 블록(일명 라인): 복사 단위
- 여러 단어일 수 있음
## 접근된 데이터가 다음 위치에 있는 경우 상위 레벨
- Hit: 상위레벨에서 접속의 만족됨

  -> 적중률: 조회수/접속수

## 접근한 데이터가 없는 경우
- Miss: 하위 레벨에서 복사된 블록

  -> 소요시간: 미스 페널티

  -> 미스비율: 미스/액세스 = 1 - 적중률

- 그러면 접근된 데이터는 상위에서 공급된다.

># 메모리 기술
## 정적 RAM(SRAM)
- 0.5ns - 2.5ns, GB당 $500 - $1,000
## 동적 RAM(DRAM)
- 40ns - 70ns, GB당 $3 - $6
## 플래시 메모리
- 5μs - 50μs, GB당 $0.06 - $0.12
## 자기 디스크
- 5ms - 20ms, GB당 $0.01 - $0.02
## 이상적인 메모리
- SRAM의 액세스 시간
- 디스크 용량 및 비용/GB

># DRAM 기술
## 커패시터에 전하로 저장된 데이터
- 전하에 접근하는데 사용되는 단일 트랜지스터
- 주기적으로 새로 고쳐야 함

  -> 내용을 읽고 다시 쓰기

  -> DRAM "행"에서 수행됨

<img width="747" alt="스크린샷 2024-06-10 오후 3 10 29" src="https://github.com/junhyeok030213/computer-structure/assets/106813806/a49c3071-09fa-4916-8d19-b96989c34a10">

># 고급 DRAM 구성
## DRAM의 비트는 직사각형 배열로 구성된다.
- DRAM은 전체 행에 액세스한다.
- 버스트 모드: 대기 시간을 줄이면서 연속적인 단어 제공
## 이중 데이터 전송률(DDR) DRAM
- 상승 및 하강 클럭 에지에서 전송
## 쿼드 데이터 속도(QDR) DRAM
- 별도의 DDR 입력 및 출력

># DRAM 세대
<img width="771" alt="스크린샷 2024-06-10 오후 3 13 10" src="https://github.com/junhyeok030213/computer-structure/assets/106813806/bd23ae8b-b6a0-452b-8dfa-fe65f2f99b31">

># DRAM 성능 요소
## 행 버퍼
- 여러 단어를 동시에 읽고 새로 고칠 수 있다.
## 동기식 DRAM
- 각 주소를 보낼 필요 없이 연속적인 액세스를 허용한다.
- 대역폭 향상
## DRAM 뱅킹
- 여러 DRAM에 대한 동시 액세스 허용
- 대역폭 향상

># 메모리 대역폭 늘리기
<img width="730" alt="스크린샷 2024-06-10 오후 3 15 51" src="https://github.com/junhyeok030213/computer-structure/assets/106813806/984d3122-b2bb-40da-8c51-4f5744e393c0">

## 4워드 와이드 메몰 사용
- 미스 페널티 = 1 + 15 + 1 = 17 버스 사이클
- 대역폭 = 16바이트/17사이클 = 0.94 B/cycle
## 4 뱅크 인터리브 메모리
- 미스 페털티 = 1 + 15 + 4 x 1 = 20 버스 사이클
- 대역폭 = 16바이트/20사이클 = 0.8 B/cycle

># 플래시 메모리(스토리지)
## 불휘발성 반도체 메모리(스토리지)
- 디스크보다 100배 - 1000배 빠름
- 더 작고, 더 낮은 전력,더 견고함
- 하지만 $/GB(디스크와 DRAM 간)가 더 높다.
<img width="547" alt="스크린샷 2024-06-10 오후 3 20 25" src="https://github.com/junhyeok030213/computer-structure/assets/106813806/e3a9b072-ec81-42a4-8454-a9f360f246e3">

># 플래시 메모리 유형
## 전기적으로 지울 수 있는 프로그래밍 가능 ROM(EEPROM)의 일종
## NOR 플래시: NOR 게이트와 같은 비트 셀
- 무작위 읽기/쓰기 액세스
- 임베디드 시스템의 명령어 메모리에 사용된다.
## NAND 플래시: NAND 게이트와 같은 비트 셀
- 밀도(비트/영역)는 높지만 한 번에 블록 액세스 가능
- GB당 가격이 저렴함
- USB 키, 미디어 저장 등에 사용된다
## 플래시 비트는 1000~100,000번의 액세스 후에 마모된다.
- 직접 RAM 또는 디스크 교체에 적합하지 않음
- 웨어 레벨링: 데이터를 덜 사용되는 블록으로 다시 매핑
